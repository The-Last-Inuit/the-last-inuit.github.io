<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  
  
    
  
  <meta name="description" content="Software engineering à la Mexicana">

  <title>steer</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://idunnowhatiamdoing.engineering/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://idunnowhatiamdoing.engineering/img/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://idunnowhatiamdoing.engineering/img/apple-touch-icon.png">
  
  <style>
  @import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap");

  /* light mode colors */
  body {
    --primary-color: #5871a2;
    --primary-pale-color: #5871a233;
    --primary-decoration-color: #5871a210;
    --bg-color: #ffffff;
    --text-color: #2f3030;
    --text-pale-color: #767676;
    --text-decoration-color: #a9a9a9;
    --highlight-mark-color: #5f75b020;

    --callout-note-color: #5871a2;
    --callout-tip-color: #268556;
    --callout-important-color: #885fc9;
    --callout-warning-color: #ab6632;
    --callout-caution-color: #c64e4e;
  }

  /* dark mode colors */
  body.dark {
    --primary-color: #6f8fd1;
    --primary-pale-color: #6f8fd166;
    --primary-decoration-color: #6f8fd112;
    --bg-color: #1c1c1c;
    --text-color: #c1c1c1;
    --text-pale-color: #848484;
    --text-decoration-color: #5f5f5f;
    --highlight-mark-color: #8296cb3b;

    --callout-note-color: #6f8fd1;
    --callout-tip-color: #47976f;
    --callout-important-color: #9776cd;
    --callout-warning-color: #ad7a52;
    --callout-caution-color: #d06161;
  }

  /* typography */
  body {
    --main-font: "Share Tech Mono", monospace;
    --code-font: "Share Tech Mono", monospace;
    --homepage-max-width: 81ch;
    --main-max-width: 81ch;
    --avatar-size: 60px;
    --font-size: 16px;
    --line-height: 1.75;
    --img-border-radius: 0px;
    --detail-border-radius: 0px;
    --dark-mode-img-brightness: 0.75;
    --dark-mode-chart-brightness: 0.75;
    --inline-code-border-radius: 2px;
    --inline-code-bg-color: var(--primary-decoration-color);
    --block-code-border-radius: 0px;
    --block-code-border-color: var(--primary-color);
    --detail-border-color: var(--primary-color);
  }
</style>

  <link rel="stylesheet" href="https://idunnowhatiamdoing.engineering/main.css">
  

<link id="hl" rel="stylesheet" type="text/css" href="/hl-light.css" />



  
</head>

<body class="post">
  
  
<div id="wrapper">
  <div id="blank"></div>
  <aside>
    
    
    <nav>
      <ul>
        
        <li>
          <a class="h2" href="#what-steer-does">What Steer Does</a>
          
        </li>
        
        <li>
          <a class="h2" href="#architecture-snapshot">Architecture Snapshot</a>
          
        </li>
        
        <li>
          <a class="h2" href="#running-it-locally">Running It Locally</a>
          
          <ul>
            
            <li>
              <a class="h3" href="#file-backed-store">File-backed store</a>
            </li>
            
            <li>
              <a class="h3" href="#p2p-toggles">P2P toggles</a>
            </li>
            
            <li>
              <a class="h3" href="#moderation-knobs">Moderation knobs</a>
            </li>
            
          </ul>
          
        </li>
        
        <li>
          <a class="h2" href="#demo-script">Demo Script</a>
          
        </li>
        
        <li>
          <a class="h2" href="#notable-files">Notable Files</a>
          
        </li>
        
        <li>
          <a class="h2" href="#operational-notes">Operational Notes</a>
          
        </li>
        
        <li>
          <a class="h2" href="#closing-thoughts">Closing Thoughts</a>
          
        </li>
        
      </ul>
    </nav>
    
    
    <button id="back-to-top" aria-label="back to top">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>

    </button>
    
  </aside>
  <main>
    
<header>
  <nav>
    <a id="back-link" href="https:&#x2F;&#x2F;idunnowhatiamdoing.engineering&#x2F;posts">← back</a>
  </nav>
</header>


    <div>
      
      
      
      
      <div id="copy-cfg" style="display: none;" data-copy-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" data-check-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
"></div>
      
      <article class="prose">
        <h1>steer</h1>
        <div id="post-info">
          <div id="date">
            <span id="publish">Jan 18, 2026</span>
            </div>

          
        </div>

        
        

        

        <p><a rel="nofollow noreferrer" href="https://app.radicle.xyz/nodes/seed.radicle.garden/rad:z4WueZLqUwwjNxZDd3jQTa7XoNmNL">Steer</a> is a small but opinionated experiment in local‑first collaboration. It pairs a Dioxus LiveView front end with a libp2p-powered backend so you can ideate even when Wi‑Fi is flaky, then sync when peers appear. This post walks through how it works, how to run it, and what to demo.</p>
<h2 id="what-steer-does">What Steer Does<a class="zola-anchor" href="#what-steer-does" aria-label="Anchor link for: what-steer-does" style="visibility: hidden;"></a>
</h2>
<ul>
<li>Local-first: you can read/write ideas and comments without a server round-trip; networking is additive, not required.</li>
<li>P2P sync: libp2p gossips events (ideas, votes, moderation actions) between peers.</li>
<li>Moderation: capabilities, rate limits, and proof checks gate inbound events.</li>
<li>Offline shell: a minimal service worker caches the app shell and assets (<code>/offline.html</code> keeps the UI available).</li>
</ul>
<h2 id="architecture-snapshot">Architecture Snapshot<a class="zola-anchor" href="#architecture-snapshot" aria-label="Anchor link for: architecture-snapshot" style="visibility: hidden;"></a>
</h2>
<ul>
<li>Rust + Axum host a Dioxus LiveView app at <code>/</code> and a WebSocket endpoint at <code>/ws</code>.</li>
<li>The derived application state is rebuilt from an append-only event log (<code>steer-core</code> + <code>steer-net</code>).</li>
<li>Static assets live under <code>crates/steer-app/static</code> (<code>ë.css</code>, <code>ë.ui.js</code>, icons, offline page) and are served directly by the Axum router.</li>
<li>The service worker pre-caches the shell and icons; it stores fetched requests into a simple cache (<code>steer-cache-v2</code>).</li>
</ul>
<h2 id="running-it-locally">Running It Locally<a class="zola-anchor" href="#running-it-locally" aria-label="Anchor link for: running-it-locally" style="visibility: hidden;"></a>
</h2>
<p>Prereqs: Rust (stable), Git. No external DB or brokers required.</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">git</span></span><span class="z-meta z-function-call z-arguments z-shell"> clone https://github.com/your-org/steer.git</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> steer</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>package</span> steer<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  --http 127.0.0.1:8080 <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  --store memory</span>
</span></code></pre>
<p>Then open <code>http://127.0.0.1:8080/</code> in your browser. The UI loads <code>ë.css</code> for styling and connects to <code>/ws</code> for live updates.</p>
<h3 id="file-backed-store">File-backed store<a class="zola-anchor" href="#file-backed-store" aria-label="Anchor link for: file-backed-store" style="visibility: hidden;"></a>
</h3>
<p>Persist the log to disk and reuse it across restarts:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>package</span> steer<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  --store file <span class="z-punctuation z-separator z-continuation z-line z-shell">\
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-arguments z-shell">  --store-path ./data/steer.log</span>
</span></code></pre>
<h3 id="p2p-toggles">P2P toggles<a class="zola-anchor" href="#p2p-toggles" aria-label="Anchor link for: p2p-toggles" style="visibility: hidden;"></a>
</h3>
<ul>
<li><code>--no-p2p</code>: run in fully local mode.</li>
<li><code>--listen /ip4/0.0.0.0/tcp/0</code>: add more listen addresses.</li>
<li><code>--dial /ip4/…/tcp/…/p2p/&lt;peerid&gt;</code>: connect to a remote peer.</li>
<li><code>--wan-profile</code>: enable relay + AutoNAT, disable mDNS for WAN-friendly operation.</li>
</ul>
<h3 id="moderation-knobs">Moderation knobs<a class="zola-anchor" href="#moderation-knobs" aria-label="Anchor link for: moderation-knobs" style="visibility: hidden;"></a>
</h3>
<ul>
<li><code>--require-pow-bits 8</code>: inbound envelopes must prove PoW with 8 leading zero bits.</li>
<li><code>--attach-pow-bits 8</code>: attach PoW to outbound envelopes.</li>
<li><code>--allow-invite &lt;token&gt;</code> / <code>--invite-token &lt;token&gt;</code>: require and attach invite tokens.</li>
<li><code>--cap-subject &lt;pubkey&gt;</code>: embed your capability subject in moderation events.</li>
</ul>
<h2 id="demo-script">Demo Script<a class="zola-anchor" href="#demo-script" aria-label="Anchor link for: demo-script" style="visibility: hidden;"></a>
</h2>
<ol>
<li><strong>Create ideas</strong>: Propose a few ideas; note the single-line inputs and dotted containers. Show offline shell still working if you flip Chrome to offline (cached by SW).</li>
<li><strong>Voting + comments</strong>: Open comments, add replies, collapse threads. Observe live updates across two browser tabs (they share the same WebSocket and state).</li>
<li><strong>Moderation actions</strong>: Hide an event by ID, label it, then toggle “strict mode” to hide unapproved content. Grant/Revoke capabilities to a subject and see labels appear.</li>
<li><strong>Checkpoint/export</strong>: Click “Checkpoint now” to publish a checkpoint event, then download <code>/export</code> and re-import it to show idempotent ingestion.</li>
<li><strong>P2P peek</strong> (optional with two nodes): Run a second instance with <code>--dial</code> to the first; add ideas on one node and watch them appear on the other.</li>
</ol>
<h2 id="notable-files">Notable Files<a class="zola-anchor" href="#notable-files" aria-label="Anchor link for: notable-files" style="visibility: hidden;"></a>
</h2>
<ul>
<li><code>crates/steer-app/src/main.rs</code>: Axum router, service worker payload, static asset routes.</li>
<li><code>crates/steer-app/src/ui.rs</code>: Dioxus LiveView UI; references <code>ë.css</code> for the shell and keeps small bridge styles for app-specific classes.</li>
<li><code>crates/steer-app/static/ë.css</code>: Design system (sharp, minimal, grid-aligned).</li>
<li><code>crates/steer-app/static/ë.ui.js</code>: Minimal JS behaviors (modals, toasts, cmdk, validation, pagination).</li>
<li><code>crates/steer-core</code>, <code>crates/steer-net</code>: Event model and networking.</li>
</ul>
<h2 id="operational-notes">Operational Notes<a class="zola-anchor" href="#operational-notes" aria-label="Anchor link for: operational-notes" style="visibility: hidden;"></a>
</h2>
<ul>
<li>Service worker cache name is <code>steer-cache-v2</code>; bump it when adding static assets so clients refresh.</li>
<li>The UI is LiveView-driven; no SPA bundle build step is required.</li>
<li>If you ship binaries, include the <code>static/</code> assets alongside for the routes to serve them.</li>
</ul>
<h2 id="closing-thoughts">Closing Thoughts<a class="zola-anchor" href="#closing-thoughts" aria-label="Anchor link for: closing-thoughts" style="visibility: hidden;"></a>
</h2>
<p>Steer’s focus is ergonomics under bad networks: the UI stays responsive with or without peers, and synchronization is a best-effort background concern. The combination of Dioxus LiveView and libp2p keeps the stack lean while still giving you real-time collaboration and offline resilience.</p>

      </article>

      
      

      
      
    </div>

    


<footer>
  <div class="left">
    <div class="copyright">
      ∅ 2026 n0um3n4
      
    </div>
  </div>

  <div class="right">
    
    
      
    
    
    <a id="rss-btn" href="https://idunnowhatiamdoing.engineering/posts/feed.xml">RSS</a>
    
    

    
  </div>
</footer>




<dialog id="rss-mask">
  <div>
    <a href="https:&#x2F;&#x2F;idunnowhatiamdoing.engineering&#x2F;posts&#x2F;feed.xml">https:&#x2F;&#x2F;idunnowhatiamdoing.engineering&#x2F;posts&#x2F;feed.xml</a>
    
    
    <button autofocus aria-label="copy" data-link="https:&#x2F;&#x2F;idunnowhatiamdoing.engineering&#x2F;posts&#x2F;feed.xml" data-copy-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" data-check-icon="&lt;svg xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; viewBox=&quot;0 0 24 24&quot; width=&quot;18&quot; height=&quot;18&quot;&gt;&lt;path d=&quot;M10.0007 15.1709L19.1931 5.97852L20.6073 7.39273L10.0007 17.9993L3.63672 11.6354L5.05093 10.2212L10.0007 15.1709Z&quot; fill=&quot;currentColor&quot;&gt;&lt;&#x2F;path&gt;&lt;&#x2F;svg&gt;
" >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18"><path d="M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z" fill="currentColor"></path></svg>

    </button>
  </div>
</dialog>



  </main>
</div>

  
<script src="/js/lightense.min.js"></script>


  <script src="https://idunnowhatiamdoing.engineering/js/main.js"></script>
</body>

</html>
