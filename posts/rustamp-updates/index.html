<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  
  
    
  
  <meta name="description" content="Software engineering à la Mexicana">

  <title>rustamp | updates</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://idunnowhatiamdoing.engineering/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://idunnowhatiamdoing.engineering/img/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://idunnowhatiamdoing.engineering/img/apple-touch-icon.png">
  
  <style>
  @import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap");

  :root {
    --bg-top: #ffffff;
    --bg-bottom: #ffffff;
    --ink: #141414;
    --muted: #6a6358;
    --link: #1d4f8c;
    --max: 88ch;
    --pad: clamp(1rem, 3vw, 2.5rem);
  }

  * {
    box-sizing: border-box;
  }

  html {
    font-size: 100%;
  }

  body {
    margin: 0;
    min-height: 100%;
    padding: var(--pad);
    background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
    color: var(--ink);
    font-family: "Share Tech Mono", monospace;
    font-size: 16px;
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }

  main.txt {
    max-width: var(--max);
    margin: 0 auto;
  }

  pre {
    font-family: "Share Tech Mono", monospace;
  }
  pre.txt-block {
    margin: 0;
    white-space: pre;
    overflow-x: auto;
  }

  a {
    color: inherit;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }

  a:visited {
    color: inherit;
  }

  a:where(:hover, :focus) {
    color: var(--link);
  }

  ::selection {
    background: rgba(29, 79, 140, 0.18);
  }
  p {
    margin: 0;
    line-height: 16pt;
  }
  ul,
  ol {
    margin: 0;
    line-height: 10pt;
  }
  li {
    line-height: 16pt;
  }
  blockquote {
    margin: 0 16pt;
    line-height: 16pt;
  }
  img {
    max-width: 64ch;
  }
  @media (prefers-reduced-motion: no-preference) {
    main.txt {
      animation: fade-in 600ms ease-out both;
    }

    @keyframes fade-in {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  @media (max-width: 700px) {
    body {
      font-size: 15px;
      padding: 1rem;
    }
  }
</style>

  

<link id="hl" rel="stylesheet" type="text/css" href="/hl-light.css" />



  
</head>

<body class="post">
  
  
<main class="txt">
  <pre class="txt-block">

<a id="back-link" href="/">← back</a>

<b>rustamp | updates</b>
<span id="publish">Jan 20, 2026</span>

<p><img src="/img/rustamp-iced.png" alt="rustamp-iced" /></p>
<p>I started by giving rustamp a Death Stranding-inspired HUD in Iced. The look
stuck: mono typography, amber tags, cyan highlights, and layered panels. After
the first iteration, it was obvious this shouldn't be a one-off. I wanted to
reuse the same components in other Rust apps without copy-pasting UI glue
everywhere.</p>
<p><img src="/img/rustamp-tui.png" alt="rustamp-tui" /></p>
<p>So I split the HUD pieces into a small crate, <code>rustamp-iced-ui</code>, and wired
<code>rustamp-iced</code> to consume it as an external path dependency. The result is a
reusable set of components with the same visual language, plus fewer lifetime
gymnastics in the app layer.</p>
<p><strong>What changed</strong></p>
<ul>
<li>Added <code>rustamp-iced-ui</code> with a <code>HudTheme</code> palette and a handful of reusable
components.</li>
<li>Refactored the Iced view to consume those components instead of inline
styling.</li>
<li>Matched the Ratatui layout to the same HUD vibe, so the terminal UI doesn't
feel like a second-class citizen.</li>
<li>Split <code>rustamp-iced-ui</code> into its own repo and referenced it via a path
dependency.</li>
</ul>
<p><strong>The components</strong></p>
<p>The crate is intentionally small: a theme struct and a few building blocks.</p>
<ul>
<li><code>HudTheme</code>: mono font + palette + a tiny alpha helper.</li>
<li><code>panel_style</code>, <code>header_style</code>: style closures for consistent panels.</li>
<li><code>divider</code>: a thin rule with the right border color.</li>
<li><code>tag</code>, <code>header_bar</code>, <code>status_bar_text</code>: common HUD structures.</li>
</ul>
<p>That is enough to build a DS-style surface without embedding styling logic
in every view function.</p>
<p><strong>Why the API looks the way it does</strong></p>
<p>Iced's style closures and widget builders can be picky about lifetimes.
Instead of pushing those constraints into the app, the component helpers
take a <code>HudTheme</code> by value. <code>HudTheme</code> is <code>Copy</code>-friendly, and that
sidesteps a lot of lifetime noise when composing UI.</p>
<p>Example usage in the app layer:</p>
<pre data-lang="rust" class="language-rust z-code"><code class="language-rust" data-lang="rust"><span class="z-source z-rust"><span class="z-keyword z-other z-rust">use</span> <span class="z-meta z-path z-rust">rustamp_iced_ui<span class="z-punctuation z-accessor z-rust">::</span></span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-begin z-rust">{</span>components <span class="z-keyword z-operator z-rust">as</span> hud<span class="z-punctuation z-separator z-rust">,</span> HudTheme</span><span class="z-meta z-block z-rust"><span class="z-punctuation z-section z-block z-end z-rust">}</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> theme <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">HudTheme<span class="z-punctuation z-accessor z-rust">::</span></span>default<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> header <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">hud<span class="z-punctuation z-accessor z-rust">::</span></span>header_bar<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    theme<span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    header_left<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust">    header_right<span class="z-punctuation z-accessor z-dot z-rust">.</span><span class="z-support z-function z-rust">into</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-separator z-rust">,</span>
</span></span><span class="z-source z-rust"><span class="z-meta z-group z-rust"></span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span><span class="z-source z-rust">
</span><span class="z-source z-rust"><span class="z-storage z-type z-rust">let</span> status <span class="z-keyword z-operator z-assignment z-rust">=</span> <span class="z-meta z-path z-rust">hud<span class="z-punctuation z-accessor z-rust">::</span></span>status_bar_text<span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-begin z-rust">(</span>theme<span class="z-punctuation z-separator z-rust">,</span> help_text<span class="z-punctuation z-separator z-rust">,</span> right_text</span><span class="z-meta z-group z-rust"><span class="z-punctuation z-section z-group z-end z-rust">)</span></span><span class="z-punctuation z-terminator z-rust">;</span>
</span></code></pre>

  </pre>
</main>

  
<script src="/js/lightense.min.js"></script>

  <script src="https://idunnowhatiamdoing.engineering/js/main.js"></script>
</body>

</html>
