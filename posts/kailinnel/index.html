<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  
  
    
  
  <meta name="description" content="Software engineering à la Mexicana">

  <title>kailinnel</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://idunnowhatiamdoing.engineering/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://idunnowhatiamdoing.engineering/img/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://idunnowhatiamdoing.engineering/img/apple-touch-icon.png">
  
  <style>
  @import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap");

  :root {
    --bg-top: #ffffff;
    --bg-bottom: #ffffff;
    --ink: #141414;
    --muted: #6a6358;
    --link: #1d4f8c;
    --max: 88ch;
    --pad: clamp(1rem, 3vw, 2.5rem);
  }

  * {
    box-sizing: border-box;
  }

  html {
    font-size: 100%;
  }

  body {
    margin: 0;
    min-height: 100%;
    padding: var(--pad);
    background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
    color: var(--ink);
    font-family: "Share Tech Mono", monospace;
    font-size: 16px;
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }

  main.txt {
    max-width: var(--max);
    margin: 0 auto;
  }

  pre {
    font-family: "Share Tech Mono", monospace;
  }
  pre.txt-block {
    margin: 0;
    white-space: pre;
    overflow-x: auto;
  }

  a {
    color: inherit;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }

  a:visited {
    color: inherit;
  }

  a:where(:hover, :focus) {
    color: var(--link);
  }

  ::selection {
    background: rgba(29, 79, 140, 0.18);
  }
  p {
    margin: 0;
    line-height: 16pt;
  }
  ul,
  ol {
    margin: 0;
    line-height: 10pt;
  }
  li {
    line-height: 16pt;
  }
  blockquote {
    margin: 0 16pt;
    line-height: 16pt;
  }
  img {
    max-width: 64ch;
  }
  @media (prefers-reduced-motion: no-preference) {
    main.txt {
      animation: fade-in 600ms ease-out both;
    }

    @keyframes fade-in {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  @media (max-width: 700px) {
    body {
      font-size: 15px;
      padding: 1rem;
    }
  }
</style>

  

<link id="hl" rel="stylesheet" type="text/css" href="/hl-light.css" />



  
</head>

<body class="post">
  
  
<main class="txt">
  <pre class="txt-block">

<a id="back-link" href="/">← back</a>

<b>kailinnel</b>
<span id="publish">Jan 19, 2026</span>

<p><a rel="nofollow noreferrer" href="https://app.radicle.xyz/nodes/seed.radicle.garden/rad:z3zXXyw7tLgpFFK5YMzwSKqdJXL5t">kailinnel</a> is a Rust + libp2p project for spinning up ad-hoc
"flash institutions", the kind of temporary, ownerless coordination layer you
want at a hackathon, festival, or pop-up clinic. No accounts, no servers;
the network appears when you need it, disappears when you don’t.</p>
<ul>
<li><strong>Spec-first</strong>: Protocol lives in <code>./specs</code>, so implementation and design stay
aligned.</li>
<li><strong>Pure P2P</strong>: Discovery via mDNS on local nets, with optional
Kademlia/relay/AutoNAT for wider reach.</li>
<li><strong>Sealed by room code</strong>: A shared code derives the key for payload sealing; ops
are signed per message.</li>
<li><strong>Abuse controls</strong>: Rate limits, quotas, payload caps, allowlists/blocklists,
optional proof-of-work, and kiosk quorum mode.</li>
<li><strong>Applets out of the box</strong>: Announcements, voting, queueing, lost+found, and
resource requests.</li>
<li><strong>Op-log sync</strong>: Digest-based anti-entropy plus snapshotting so peers can catch
up without a central source of truth.</li>
</ul>
<p><strong>Minimal architecture tour</strong></p>
<ol>
<li><strong>Transport stack</strong>: TCP + Noise + Yamux and QUIC for multiplexed, encrypted
links.</li>
<li><strong>Discovery</strong>: mDNS for LAN, with optional DHT rendezvous + relays if you want
to stretch across networks.</li>
<li><strong>State layer</strong>: Append-only op-log with anti-entropy sync; snapshots reduce
catch-up time and storage churn.</li>
<li><strong>Security posture</strong>: Shared secret sealing, per-message signatures, optional
PoW gating, kiosk witnesses, and local block/allow lists.</li>
<li><strong>UI surface</strong>: Today it’s CLI-first; bindings + UI will come later, but the
core events are already exposed for integrations.</li>
</ol>
<p><strong>Run the quick manual demo</strong></p>
<p>Requires a recent Rust toolchain.</p>
<p>Terminal 1:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> start --room <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>BERLIN-COFFEE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> --nick <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>A<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span></code></pre>
<p>Terminal 2 (same LAN):</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> start --room <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>BERLIN-COFFEE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span> --nick <span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>B<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span>
</span></code></pre>
<p>Type into either terminal to broadcast on the announcements topic:</p>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">hello everyone
</span></code></pre>
<p>Handy commands while a node is running:</p>
<ul>
<li><code>/peers</code> or <code>/peers verbose</code> to see who’s connected.</li>
<li><code>/join</code> to print ready-to-dial multiaddrs, a join URI, and QR payload.</li>
<li><code>/vote meta lunch title=Lunch options=tofu,pizza</code>, then
<code>/vote lunch tofu</code> to participate.</li>
<li><code>/queue join cafe label=A party=2 note=window</code> and
<code>/queue list cafe</code> to try queueing.</li>
<li><code>/snapshot</code> to force a snapshot for quicker restarts/catch-up.</li>
</ul>
<p><strong>Scripted demos (faster happy path)</strong></p>
<p>If you want to see everything without typing commands yourself:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">./scripts/demo-all.sh</span></span>
</span></code></pre>
<p>Other focused flows live under <code>scripts/</code>:</p>
<ul>
<li><code>demo-announcements.sh</code>, <code>demo-voting.sh</code>, <code>demo-queueing.sh</code>,
<code>demo-lost-found.sh</code>, <code>demo-requests.sh</code></li>
<li>Abuse/hardening: <code>demo-pow.sh</code>, <code>demo-rate-limit.sh</code>,
<code>demo-quotas.sh</code>, <code>demo-blocklist.sh</code></li>
<li>Networking: <code>demo-join-dial.sh</code>, <code>demo-bootstrap.sh</code>,
<code>demo-relay.sh</code></li>
<li>Reliability: <code>demo-persistence.sh</code>, <code>demo-snapshot.sh</code>,
<code>demo-anti-entropy.sh</code>, <code>demo-kiosk-quorum.sh</code>, <code>demo-allowlist-roster.sh</code></li>
</ul>
<p>Script outputs land in <code>target/demo-logs.*</code>. Useful overrides:</p>
<ul>
<li><code>KAILINNEL_DEMO_ROOM</code>: room code (default <code>DEMO-ROOM</code>)</li>
<li><code>KAILINNEL_DEMO_FLAGS</code>: extra <code>start</code> flags
(default <code>--no-quic --no-tls --no-mdns</code>)</li>
<li><code>KAILINNEL_DEMO_BIN</code>: binary path (default <code>target/debug/kailinnel</code>)</li>
<li><code>KAILINNEL_DEMO_FORCE_BUILD=1</code>: force rebuild before running</li>
<li><code>KAILINNEL_DEMO_LOCAL_DIAL=0</code>: keep printed multiaddrs untouched</li>
<li><code>KAILINNEL_DEMO_RUST_LOG</code>: set Rust log filter (default <code>info</code>)</li>
<li><code>KAILINNEL_DEMO_POW_BITS</code>: PoW difficulty (default <code>10</code>)</li>
<li><code>KAILINNEL_DEMO_KIOSK_QUORUM</code>: quorum size for kiosk witness demos
(default <code>2</code>)</li>
</ul>
<p><strong>Configuring persistence and security</strong></p>
<p>Pass a config file to persist identity and state across restarts:</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run<span class="z-keyword z-operator z-end-of-options z-shell"> --</span></span><span class="z-meta z-function-call z-arguments z-shell"> start --config ./config/kailinnel.example.toml</span>
</span></code></pre>
<p>Settings you’ll likely tweak:</p>
<ul>
<li><code>node.key_path</code>: keep your libp2p identity stable (needed for allowlists).</li>
<li><code>node.state_path</code>, <code>node.oplog_path</code>, <code>node.snapshot_path</code>: retain local
state and speed up catch-up.</li>
<li><code>security.allowlist</code>: constrain who can talk to you;
<code>security.pow_difficulty_bits</code> for spam-throttling.</li>
<li><code>net.bootstrap_defaults</code>, <code>net.relay_defaults</code>, <code>net.rendezvous</code>: switch
on wider-than-LAN discovery.</li>
<li><code>limits.*</code>: rate limits, payload caps, and per-applet quotas.</li>
</ul>
<p><strong>Observability hooks</strong></p>
<ul>
<li>Enable Prometheus metrics with <code>--metrics</code> or <code>metrics.enabled = true</code>
and scrape <code>http://127.0.0.1:9898/metrics</code>.</li>
<li>Structured events exposed via <code>events::EventBus</code> and
<code>swarm::run_node_with_events</code> if you’re wiring a UI/monitor.</li>
</ul>
<p><strong>Roadmap snapshot</strong></p>
<p>Current milestone: core networking + CLI applets (announcements, voting,
queueing, lost+found, requests) with sealed payloads, signed ops,
anti-entropy sync, snapshots, and abuse controls. Next up: richer applet
state, CRDT-backed sync, mobile bindings, and UI polish.</p>
<p>If you build something on top of this, drop in your own applet logic or UI;
the transport, security, and sync layers are already doing the heavy lifting.
Enjoy running pop-up networks without begging a server to stick around.</p>

  </pre>
</main>

  
<script src="/js/lightense.min.js"></script>

  <script src="https://idunnowhatiamdoing.engineering/js/main.js"></script>
</body>

</html>
