<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  
  
    
  
  <meta name="description" content="Software engineering à la Mexicana">

  <title>sääl | wiring up the core</title>
  <link rel="icon" type="image/png" sizes="32x32" href="https://idunnowhatiamdoing.engineering/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://idunnowhatiamdoing.engineering/img/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="https://idunnowhatiamdoing.engineering/img/apple-touch-icon.png">
  
  <style>
  @import url("https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap");

  :root {
    --bg-top: #ffffff;
    --bg-bottom: #ffffff;
    --ink: #141414;
    --muted: #6a6358;
    --link: #1d4f8c;
    --max: 81ch;
    --pad: clamp(1rem, 3vw, 2.5rem);
  }

  * {
    box-sizing: border-box;
  }

  html {
    font-size: 100%;
  }

  body {
    margin: 0;
    min-height: 100%;
    padding: var(--pad);
    background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
    color: var(--ink);
    font-family: "Share Tech Mono", monospace;
    font-size: 16px;
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
  }

  main.txt {
    max-width: var(--max);
    margin: 0 auto;
  }

  pre {
    font-family: "Share Tech Mono", monospace;
  }
  pre.txt-block {
    margin: 0;
    white-space: pre;
    overflow-x: auto;
  }

  a {
    color: inherit;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-decoration-thickness: 1px;
    text-underline-offset: 2px;
  }

  a:visited {
    color: inherit;
  }

  a:where(:hover, :focus) {
    color: var(--link);
  }

  ::selection {
    background: rgba(29, 79, 140, 0.18);
  }
  p {
    margin: 0;
    line-height: 16pt;
  }
  ul,
  ol {
    margin: 0;
    line-height: 10pt;
  }
  li {
    line-height: 16pt;
  }
  blockquote {
    margin: 0 16pt;
    line-height: 16pt;
  }
  img {
    max-width: 64ch;
  }
  @media (prefers-reduced-motion: no-preference) {
    main.txt {
      animation: fade-in 600ms ease-out both;
    }

    @keyframes fade-in {
      from {
        opacity: 0;
        transform: translateY(6px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  @media (max-width: 700px) {
    body {
      font-size: 15px;
      padding: 1rem;
    }
    pre.txt-block {
      white-space: pre-wrap;
    }
    pre code {
      text-wrap: auto;
    }
  }
</style>

  

<link id="hl" rel="stylesheet" type="text/css" href="/hl-light.css" />



  
</head>

<body class="post">
  
  
<main class="txt">
  <pre class="txt-block">

<a id="back-link" href="/">← back</a>

<b>sääl | wiring up the core</b>
<span id="publish">Jan 9, 2026</span>

<p>Quick update on sääl’s engineering progress. I’ve been focused on getting the
wire-level core in place first, so there’s a solid, deterministic foundation
before anything network-y or storage-y lands.</p>
<p><strong>So far</strong></p>
<p>The repo now has a <code>saal-core</code> crate that’s basically the minimal
spec-compliant kernel:</p>
<ul>
<li><strong>Canonical CBOR encoding</strong> for unsigned objects so every node hashes the
same bytes.</li>
<li><strong>ObjectId</strong> as BLAKE3-256 over canonical CBOR of the unsigned envelope.</li>
<li><strong>Ed25519 signatures</strong> over the ObjectId, plus verification helpers.</li>
<li><strong>Typed payloads</strong> for the v0.1 wire spec: <code>Profile</code>, <code>Post</code>, <code>Reaction</code>,
<code>Follow</code>, <code>MediaBlob</code>, and <code>LogEntry</code>.</li>
<li><strong>Tests</strong> for deterministic IDs, sign/verify round-trips, and canonical
CBOR stability.</li>
</ul>
<p>There’s also a draft wire spec (<code>wire-spec-v0.1.md</code>) in the repo that mirrors
what the code is doing. The idea is to keep spec and code aligned while the
protocol is still fluid.</p>
<p>This is intentionally boring in a good way:</p>
<ul>
<li><strong>CBOR + canonical ordering</strong> gives compact payloads and deterministic hashes.
No "same data, different bytes" surprises.</li>
<li><strong>BLAKE3</strong> is fast, well-designed, and gives a clean 32‑byte content ID.</li>
<li><strong>Ed25519</strong> is small, standard, and has good ecosystem support. Keys/signatures
stay compact, which matters for a p2p social protocol.</li>
<li><strong>Explicit typed payloads</strong> keep the wire schema readable and let me evolve
each object type without tangled dynamic maps everywhere.</li>
</ul>
<p>The goal is to keep the cryptographic and serialization layer boringly correct.
Everything else can be built on top of that with confidence.</p>
<p><strong>Current limits</strong></p>
<p>This is still v0.1 groundwork:</p>
<ul>
<li>No networking yet.</li>
<li>No storage/indexing layer.</li>
<li>No event log or feed processing pipeline.</li>
<li>Just enough error handling to make the core usable without hiding failures.</li>
</ul>
<p>That’s deliberate. I want the “object = canonical bytes + signature +
deterministic ID” story to be rock-solid before the rest of the system starts
depending on it.</p>
<p><strong>What’s next</strong></p>
<p>The next steps are about turning the core into something people can run
and poke:</p>
<ul>
<li><strong>Storage + indexing</strong>: persist objects, resolve by <code>ObjectId</code>, and build
lightweight views.</li>
<li><strong>Networking protocol</strong>: define how peers exchange objects and log entries
(likely built on libp2p).</li>
<li><strong>Tooling</strong>: a small CLI for creating/signing objects and inspecting CBOR
bytes.</li>
<li><strong>Interoperability tests</strong>: fixtures to prove that different implementations
serialize and hash the same bytes.</li>
</ul>

  </pre>
</main>

  
<script src="/js/lightense.min.js"></script>

  <script src="https://idunnowhatiamdoing.engineering/js/main.js"></script>
</body>

</html>
